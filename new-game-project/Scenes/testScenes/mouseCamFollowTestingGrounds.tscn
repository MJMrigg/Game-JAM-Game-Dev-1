[gd_scene load_steps=10 format=3 uid="uid://e64wefyqpbiv"]

[ext_resource type="PackedScene" uid="uid://b5if1fnftx540" path="res://Scenes/testScenes/mcfWithPos.tscn" id="2_ibyqy"]
[ext_resource type="PackedScene" uid="uid://cy6f1magjjlh7" path="res://Models/street_lamp.tscn" id="2_pvhrp"]
[ext_resource type="Script" uid="uid://c1j1rucyco3mb" path="res://Scripts/TestScripts/TestNPC.gd" id="3_j14c7"]
[ext_resource type="PackedScene" uid="uid://cv3dnijdbylgv" path="res://Scenes/npc1.tscn" id="3_pvhrp"]
[ext_resource type="Script" uid="uid://bclye1ybvev1g" path="res://Scripts/player_cam.gd" id="4_asrwj"]

[sub_resource type="NavigationMesh" id="NavigationMesh_0qeb4"]
vertices = PackedVector3Array(-23, 0.45, -31.75, -21.5, 0.45, -32.25, -21.5, 0.45, -49.5, -23.25, 0.45, -30.5, -49.5, 0.45, -49.5, -49.5, 0.45, -30.5, -20, 0.45, -31.75, 49.5, 0.45, -49.5, 25.5, 0.45, 26, 25.5, 0.45, 26.75, 49.5, 0.45, 26.75, 24.75, 0.45, 25.25, -20, 0.45, -29.75, 22.25, 0.45, 26.25, 23, 0.45, 25.25, -21, 29.45, -42, -22, 29.45, -42, -22.25, 29.45, -41.5, -22.25, 29.45, -39.5, -21.75, 29.45, -38.75, -20.75, 29.45, -39.75, -21.25, 30.7, -31.25, -22, 30.7, -31.25, -22.25, 30.7, -30.75, -22, 30.7, -30, -21, 30.7, -30.25, 23.75, 0.45, 49.5, 23.75, 0.45, 28.5, 23, 0.45, 28.5, 22.25, 0.45, 27.75, -22.5, 0.45, -29, -20.75, 0.45, -29, -49.5, 0.45, 49.5, -21, 29.45, -22, -21.75, 29.45, -22.5, -22.25, 29.45, -21.5, -22.25, 29.45, -19.5, -21, 29.45, -19.25, -20.75, 29.45, -19.75, 23.75, 29.45, 18.5, 23.75, 29.2, 25.25, 24, 29.45, 18.5, 23.25, 29.45, 18, 24.5, 29.45, 18, 24.5, 29.45, 15.75, 23.25, 29.45, 15.75, 23.25, 30.7, 26.5, 23.5, 30.7, 27.5, 24.5, 30.7, 27.25, 24.25, 30.7, 26.25, 24.75, 0.45, 28.5, 25.5, 0.45, 27.75, 49.5, 0.45, 49.5, 24, 29.45, 35.25, 24, 29.2, 28.5, 23.75, 29.45, 35.25, 24.5, 29.45, 35.75, 23.25, 29.45, 35.75, 23.25, 29.45, 38, 24.5, 29.45, 38.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 3, 2), PackedInt32Array(2, 3, 5), PackedInt32Array(2, 5, 4), PackedInt32Array(1, 2, 6), PackedInt32Array(6, 2, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(8, 11, 10), PackedInt32Array(10, 11, 7), PackedInt32Array(7, 11, 12), PackedInt32Array(7, 12, 6), PackedInt32Array(14, 13, 12), PackedInt32Array(11, 14, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 20), PackedInt32Array(17, 20, 18), PackedInt32Array(18, 20, 19), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(24, 21, 25), PackedInt32Array(28, 27, 26), PackedInt32Array(29, 28, 26), PackedInt32Array(5, 3, 30), PackedInt32Array(13, 31, 12), PackedInt32Array(13, 29, 31), PackedInt32Array(31, 29, 30), PackedInt32Array(26, 32, 29), PackedInt32Array(29, 32, 30), PackedInt32Array(30, 32, 5), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 35), PackedInt32Array(38, 35, 33), PackedInt32Array(33, 35, 34), PackedInt32Array(41, 40, 39), PackedInt32Array(39, 42, 41), PackedInt32Array(41, 42, 43), PackedInt32Array(43, 42, 45), PackedInt32Array(43, 45, 44), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(26, 27, 50), PackedInt32Array(50, 51, 26), PackedInt32Array(26, 51, 52), PackedInt32Array(52, 51, 10), PackedInt32Array(51, 9, 10), PackedInt32Array(55, 54, 53), PackedInt32Array(53, 56, 55), PackedInt32Array(55, 56, 57), PackedInt32Array(57, 56, 58), PackedInt32Array(58, 56, 59)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bo1nx"]
albedo_color = Color(0, 1, 0.27395758, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_juj7c"]
material = SubResource("StandardMaterial3D_bo1nx")
size = Vector2(100, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_vvebp"]
size = Vector3(100, 0.1, 100)

[node name="Node3D" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.94629997, 0.32328987, 0, -0.32328987, 0.94629997, 0, 2.2137718, 0)

[node name="Ghost" parent="." instance=ExtResource("2_ibyqy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.6386433, 1.3794765, -12.667865)

[node name="NPC1" parent="." instance=ExtResource("3_pvhrp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.0623493, 1.0499992, -2.4136105)
script = null

[node name="NPC2" parent="." instance=ExtResource("3_pvhrp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.580322, 1.0499973, 8.494507)
script = ExtResource("3_j14c7")
speed = 4

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("4_asrwj")
target = NodePath("../Ghost")
y_distance = 1.0
z_distance = 3.0

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_0qeb4")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
collision_layer = 32
collision_mask = 0

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
mesh = SubResource("PlaneMesh_juj7c")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
shape = SubResource("BoxShape3D_vvebp")

[node name="StreetLamp" parent="NavigationRegion3D" instance=ExtResource("2_pvhrp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.89017, 2.098546, 26.8773)

[node name="StreetLamp2" parent="NavigationRegion3D" instance=ExtResource("2_pvhrp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.521545, 2.098545, -30.62741)
